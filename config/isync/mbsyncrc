#
# For the definition of the accounts, please use the structure :
# IMAPAccount account-name
# Host account-host
# User username
# in that order, so the imapfilter config.lua file can decipher
# those easily (as the "parsing" there is really simple...)

IMAPAccount subatech
Host imap-subatech.in2p3.fr
User aphecete
CertificateFile ~/.certificates/imap-subatech.cert
SSLType IMAPS
SSLVersions TLSv1
PassCmd "security find-generic-password -s mbsync-subatech-password -w"

IMAPAccount cern
Host imap.cern.ch
User laphecet
AuthMechs LOGIN
SSLType IMAPS
SSLVersions TLSv1
PassCmd "security find-generic-password -s mbsync-cern-password -w"

IMAPAccount icloud
Host imap.mail.me.com
User laurent.aphecetche@me.com
AuthMechs LOGIN
SSLType IMAPS
SSLVersions TLSv1
PassCmd "security find-generic-password -s mbsync-icloud-password -w"

IMAPAccount gmail
Host imap.gmail.com
User laurent.aphecetche@gmail.com
AuthMechs LOGIN
SSLType IMAPS
SSLVersions TLSv1
PassCmd "security find-generic-password -s mbsync-gmail-password -w"

IMAPStore subatech-remote
Account subatech
Path ~/IMAPMAILBOXES/

IMAPStore cern-remote
Account cern

IMAPStore gmail-remote
Account gmail

IMAPStore icloud-remote
Account icloud

MaildirStore subatech-local
Path ~/Maildir/subatech/
Inbox ~/Maildir/subatech/INBOX

MaildirStore cern-local
Path ~/Maildir/cern/
Inbox ~/Maildir/cern/INBOX

MaildirStore gmail-local
Path ~/Maildir/gmail/
Inbox ~/Maildir/gmail/INBOX

MaildirStore icloud-local
Path ~/Maildir/icloud/
Inbox ~/Maildir/icloud/INBOX

Channel subatech-inbox
Master :subatech-remote:
Slave :subatech-local:
Sync All
Create Slave

Channel subatech-all
Master :subatech-remote:
Slave :subatech-local:
#Pattern "Archive*"
Pattern "*"
Pattern "!INBOX"
Pattern "!Delete*"
# Pattern "!Junk*"
Sync All
Create Slave

Channel cern-inbox
Master :cern-remote:
Slave :cern-local:
Sync All
Create Slave

Channel cern-all
Master :cern-remote:
Slave :cern-local:
Pattern "*" 
Pattern "!INBOX"
Pattern "!Deleted%"
Pattern "!Junk%"
Pattern "!Notes"
Pattern "!Outbox"
Pattern "!Contacts*"
Sync All
Create Slave

Channel icloud-inbox
Master :icloud-remote:
Slave :icloud-local:
Sync All 
Create Slave 

Channel icloud-sent
Master :icloud-remote:
Slave :icloud-local:
Pattern "*Sent*"
Sync All 
Create Slave 

Channel icloud-archive
Master :icloud-remote:Archive
Slave :icloud-local:archive
Sync All 
Create Slave 

Channel gmail-inbox
Master :gmail-remote:
Slave :gmail-local:
Sync All
Create Slave 

Channel gmail-processed
Master :gmail-remote:
Slave :gmail-local:
Sync All
Create Slave
Pattern "Processed"

Channel gmail-free
Master :gmail-remote:laurent.aphecetche@free.fr
Slave :gmail-local:free
Sync All
Create Slave 

Channel gmail-laposte
Master :gmail-remote:laurent.aphecetche@laposte.net
Slave :gmail-local:laposte
Sync All
Create Slave 

Channel gmail-pub
Master :gmail-remote:
Slave :gmail-local:
Sync All
Create Slave
Pattern "pub/*"

Channel gmail-github
Master :gmail-remote:
Slave :gmail-local:
Sync All
Create Slave
Pattern "github/*"

Channel gmail-all
Master :gmail-remote:
Slave :gmail-local:
Sync Pull New Flags
Create Slave
Pattern "*"
Pattern "!INBOX"
Pattern "!*laposte*"
Pattern "!*free*"
Pattern "!Processed"
Pattern "!Notes"
Pattern "![Gmail]*"
Pattern "!laurent@aphecetche.fr"
Pattern "!copains"

Group icloud
Channel icloud-inbox
Channel icloud-sent
Channel icloud-archive

Group gmail
Channel gmail-inbox
Channel gmail-free
Channel gmail-laposte
Channel gmail-processed
Channel gmail-github
Channel gmail-pub

Group cern
Channel cern-inbox
Channel cern-all

Group subatech
Channel subatech-inbox
Channel subatech-all

Group inbox
Channel subatech-inbox
Channel cern-inbox
Channel gmail-inbox
Channel icloud-inbox

Group inbox-work
Channel subatech-inbox
Channel cern-inbox

Group inbox-perso
Channel gmail-inbox
Channel icloud-inbox

Group noturgent-perso
Channel icloud-sent
Channel icloud-archive
Channel gmail-free
Channel gmail-laposte
Channel gmail-processed

Group noturgent-work
Channel subatech-all
Channel cern-all

